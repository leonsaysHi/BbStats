<div class="playeditor">
<small>{{GameDatasFact.playbyplay}}</small>

		<!-- Edit Play -->
		<div class="playeditor-ui">

			<!-- Preview play -->
			<div class="playeditor-preview">
				<h5>Preview: <small>edit:{{recorder.ui.edit}}</small></h5>
				<h2>		
					<!-- action -->			
					<span class="label label-default">{{recorder.play[0] | playByPlayPreview}}</span>
					<span class="label label-default" ng-click="resetPlay()" ng-show="recorder.play[0].playerid && !recorder.play[0].action && !recorder.play[1]">&times;</span>
					<span class="label label-default" ng-click="resetAction()" ng-show="recorder.play[0].action && !recorder.play[1]">&times;</span>
					<!-- addaction -->
					<span class="label label-default" ng-show="recorder.play[1]">{{recorder.play[1] | playByPlayPreview}}</span>
					<span class="label label-default" ng-click="removeAddAction()" ng-show="recorder.play.length===2">&times;</span>
					<!-- save cancel -->
					<a ng-click="savePlay()" ng-show="playIsSavable()" class="btn btn-primary">Save</a>
					<a ng-click="resetPlay()" ng-show="recorder.play[0]" class="btn btn-default">Cancel</a>
				</h2>
			</div>
			
			<!-- Players -->
			<div class="playeditor-players" ng-show="showplayers()">
				<h5>Players:</h5>
				<div class="players-list">
					<a ng-repeat="(id, player) in playingplayers = (team.players | getCourtPlayers)" ng-click="playInsert(player)" ng-class="{'item--selected':player.id==recorder.play[0].playerid}" class="item">
						<strong>{{player.name}}</strong><span>{{player.number}}</span>
					</a>
					<a class="item item--empty" ng-repeat="i in getEmptyPlayersSpots() track by $index" ng-click="addStarter()"><span>+</span></a>
					<a class="item pitem--opponent" ng-click="playInsert(opponent)" ng-class="{'item--selected':recorder.play[0].playerid=='opp'}"><strong>Opp. scores</strong></a>
				</div>
			</div>
			
			<!-- Actions -->
			<div class="playeditor-actions" ng-show="showactions()">
				<h5>Actions:</h5>
				<div class="actions-list">				
					<a ng-repeat="action in actionsdata.base" ng-click="selectAction(action)" ng-class="{'item--selected':action.id===recorder.play[0].action.id}" class="item">{{actionsdata.dictio[action.id].btnlabel}}</a>
					<a ng-show="benchplayers.length>0" ng-click="substitution()" class="item">Subs</a>
				</div>
			</div>
			
			<!-- Subactions -->
			<div class="playeditor-subactions" ng-show="showsubactions()">
				<div ng-repeat="(code, subactions) in actionsdata.subactions" ng-show="recorder.ui.subaction===code">
					<h5>Shot :</h5>
					<div class="actions-list">
						<a ng-repeat="action in subactions" ng-click="selectSubAction(action)" ng-class="{'item--selected':action.id===recorder.play[0].action.id}" class="item">{{actionsdata.dictio[action.id].btnlabel}}</a>
					</div>
				</div>
			</div>

			<!-- Addactions -->
			<div class="playeditor-addactions" ng-show="showaddactions()">
				<div ng-repeat="(code, addactions) in actionsdata.addactions" ng-show="recorder.ui.addaction===code">
					<div ng-repeat="action in addactions">
						<h5>{{actionsdata.dictio[action.id].btnlabel}}?</h5>
						<div class="players-list">
							<a ng-repeat="(id, player) in playingplayers = (team.players | getCourtPlayers)" ng-click="selectAddPlayerAction(player, action)" ng-hide="player==recorder.play[0].player" ng-class="{'item--selected':recorder.play[1].playerid===player.id}" class="item">
								<strong>{{player.name}}</strong><span>{{player.number}}</span>
							</a>
						</div>
					</div>
				</div>
			</div>

			<!-- opponentactions -->
			<div ng-show="recorder.ui.oppaction" class="actions-list">
				<h5>Opponent scores?</h5>
				<a ng-repeat="action in actionsdata.opponentactions" ng-click="selectOpponentAction(action)" ng-class="{'item--selected':recorder.play[0].action.id===action.id}" class="item">{{actionsdata.dictio[action.id].btnlabel}}</a>
			</div>

			<!-- bench modal -->
			<div class="modal fade" id="bench">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">Banch</h4>
						</div>
						<div class="modal-body">
							<div class="players-list">
								<a class="player" ng-repeat="(index, player) in benchplayers = (team.players | getBenchPlayers)" ng-click="selectBenchPlayer(player)">
									<strong>{{player.name}}</strong><span>{{player.number}}</span>
								</a>
								<p ng-hide="benchplayers.length">No player on the bench</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		
		</div>

		<div class="playeditor-chrono">

			<!-- Chrono -->
			<div ng-controller="Chrono">

				<div class="alert alert-danger" role="alert" ng-show="!gamestarted && !playersready">
					Select 5 players from the bench
				</div>

				<a class="btn btn-primary btn-sm" ng-click="nextPeriod()" ng-show="!gamestarted" ng-disabled="!playersready">Start the game</a>

				<div ng-show="gamestarted" class="text-center">

					<h3>
						<small>{{gamedatas.chrono.curr_period | chronoPeriod}}</small><br><strong>{{gamedatas.chrono.curr_time | chronoTime}}</strong>
					</h3>
					
					<!-- between periods -->
					<a class="btn btn-default btn-sm" ng-show="!periodisrunning" ng-click="nextPeriod()">{{gamedatas.chrono.curr_period | chronoGotoNextPeriod}}</a>
					<!-- play / stop -->
					<div ng-show="periodisrunning">			
						<a class="btn btn-primary btn-sm" ng-show="!clockisrunning" ng-click="play()">Play</a>
						<a class="btn btn-default btn-sm" ng-show="clockisrunning" ng-click="stop()">Stop</a>
					</div>
				</div>
			</div>

		</div>
</div>