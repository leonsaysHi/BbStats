	<div class="page-header">
		<h1>{{gamedatas.name}}</h1>
		<a href="#/gameconfig/{{gamedatas.id}}" class="text-muted">Edit</a> - <a href="#/" class="text-muted">Close</a>
	</div>

	<!-- Chrono -->
	<div ng-controller="Chrono" >
		<div class="alert alert-danger" role="alert" ng-show="!gamestarted && !playersready">
			Select 5 players from the bench
		</div>
		
		<div class="jumbotron">
			<a class="btn btn-primary btn-sm" ng-click="nextPeriod()" ng-show="!gamestarted" ng-disabled="!playersready">Start the game</a>
			<div ng-show="gamestarted">
				<h2>
					<span class="muted">{{gamedatas.chrono.curr_period | chronoPeriod}}</span> : <strong>{{gamedatas.chrono.curr_time | chronoTime}}</strong>
				</h2>
				<!-- between periods -->
				<a class="btn btn-default btn-sm" ng-show="!periodisrunning" ng-click="nextPeriod()">{{gamedatas.chrono.curr_period | chronoGotoNextPeriod}}</a>
				<!-- play / stop -->
				<div ng-show="periodisrunning">			
					<a class="btn btn-default btn-sm" ng-show="!clockisrunning" ng-click="play()">Play</a>
					<a class="btn btn-default btn-sm" ng-show="clockisrunning" ng-click="stop()">Stop</a>
				</div>
			</div>
		</div>
	</div>
	

	<div ng-controller="PlayEditor" ng-init="init(0)">
		<h4>Team : {{team.name}} - <span style="color:{{team.color}}">â– </span></h4>
		*{{recorder}}		
		<!-- players -->
		<div class="players-list" ng-show="gamedatas.chrono.total_time===0 || recorder.play.length===0">
			<h4>Select player :</h4>
			<a class="player" ng-repeat="(id, player) in playingplayers = (team.players | getCourtPlayers)" ng-click="selectPlayer(player)">
				<strong>{{player.name}}</strong><span>{{player.number}}</span>
			</a>
			<a class="player" ng-repeat="i in getEmptyPlayersSpots() track by $index" ng-click="showBench()"><span>+</span></a>
		</div>

		<!-- plays -->
		<div class="plays-list" ng-show="gamedatas.chrono.total_time>0 && recorder.play.length===1">
			<h4>Select action :</h4>
			<div ng-show="!recorder.play[0].action && !recorder.ui.subaction">
				<a ng-repeat="act in actionsdata.base" ng-click="selectAction(act.action, act.subaction, act.addaction)">{{actionsdata.dictio[act.id].btnlabel}}</a>
				<a ng-show="benchplayers.length>0" ng-click="substitution()">Subs</a>
			</div>
			<div ng-repeat="(code, subs) in actionsdata.subactions" ng-show="recorder.ui.subaction===code">
				<a ng-repeat="act in subs" ng-click="selectAction(act.action, act.subaction, act.addaction)">{{actionsdata.dictio[act.id].btnlabel}}</a>
			</div>
			<div ng-repeat="(code, adds) in actionsdata.addactions" ng-show="recorder.ui.addaction===code">
				<div ng-repeat="act in adds">
					<h4>{{actionsdata.dictio[act.id].btnlabel}} ?</h4>
					<a class="player" ng-click="savePlay()"><span>No</span></a>
					<a class="player" ng-repeat="(id, player) in playingplayers = (team.players | getCourtPlayers)" ng-hide="player==recorder.play[0].player" ng-click="selectPlayer(player, act.action, act.subaction, act.addaction)">
						<strong>{{player.name}}</strong><span>{{player.number}}</span>
					</a>
				</div>
			</div>
		</div>

		<!-- bench modal -->
		<div class="modal fade" id="bench">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">Banch</h4>
					</div>
					<div class="modal-body">
						<div class="players-list">
							<a class="player" ng-repeat="(index, player) in benchplayers = (team.players | getBenchPlayers)" ng-click="selectPlayerFromBench(player)">
								<strong>{{player.name}}</strong><span>{{player.number}}</span>
							</a>
							<p ng-hide="benchplayers.length">No player on the bench</p>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<!-- Output -->
	<div ng-controller="Output" id="outputs">
		<ul class="nav nav-tabs">
		    <li class="active"><a show-tab href="#play-by-play">Play-by-play</a></li>
		    <li><a show-tab href="#boxscore">Box score</a></li>
		</ul>
		<div class="tab-content">
    		<div class="tab-pane active" id="play-by-play">
				<div ng-repeat="(playid, play) in plays | reverse">
					<span class="text-muted">{{play[0].curr_period | chronoPeriod}} - {{play[0].curr_time | chronoTime}}</span> {{play | playByPlay}} <a ng-click="editPlay(playid)">edit</a> - <a ng-click="deletePlay(playid)">&times;</a>
				</div>
			</div>
    		<div class="tab-pane" id="boxscore">
				<table class="table table-condensed table-bordered table-striped">
					<thead>
						<tr class="headrange">
							<td colspan="2"></td>
							<td colspan="3">Field goals</td>
							<td></td>
							<td colspan="3">Rebounds</td>
							<td colspan="6"></td>
						</tr>
						<tr>
							<td></td>
							<td>Min</td>
							<td>FgM-A</td>
							<td>3pM-A</td>
							<td>FtM-A</td>
							<td>+/-</td>
							<td>Off</td>
							<td>Def</td>
							<td>Tot</td>
							<td>Ast</td>
							<td>Pf</td>
							<td>St</td>
							<td>To</td>
							<td>Blk</td>
							<td>Pts</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="player in gamedatas.teams[0].players">
							<td>{{player.name}}</td>
							<td>{{stats[player.id].playingtime | statsPlayingMinutes}}</td>
							<td>{{stats[player.id].fgm2}} - {{stats[player.id].fga2}}</td>
							<td>{{stats[player.id].fgm3}} - {{stats[player.id].fga3}}</td>
							<td>{{stats[player.id].ftm}} - {{stats[player.id].fta}}</td>
							<td></td>
							<td>{{stats[player.id].reboff}}</td>
							<td>{{stats[player.id].rebdef}}</td>
							<td>{{stats[player.id].reboff + stats[player.id].rebdef}}</td>
							<td>{{stats[player.id].ast}}</td>
							<td>{{stats[player.id].f}}</td>
							<td>{{stats[player.id].st}}</td>
							<td>{{stats[player.id].to}}</td>
							<td>{{stats[player.id].blk}}</td>
							<td>{{stats[player.id].pts}}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</ul>
	</div>